<div class="container" *ngIf="!hideNavbar">
  <mat-toolbar color="primary" class="navbar">
    <button mat-icon-button (click)="back()" *ngIf="!isBasePath && !isSettingsPath" class="back-btn">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <button mat-icon-button (click)="drawer.toggle()" class="back-btn" *ngIf="isBasePath || isSettingsPath">
      <mat-icon>menu</mat-icon>
    </button>
    <app-searchbar class="searchbar" [class.hidden]="!isBaseMediaPath" (search)="search($event)" (committed)="commitSearch()" [reset]="searchbarReset"></app-searchbar>
  </mat-toolbar>
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav #drawer class="sidenav" mode="over" [autoFocus]="false">
      <div class="sidenav-content">
        <mat-nav-list role="navigation" class="nav-list">
          <a mat-list-item routerLink="/media" routerLinkActive="nav-list-link-active" (click)="resetSearchbar('/media')">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">play_arrow</mat-icon>
              <span>All</span>
            </span>
          </a>
          <a mat-list-item routerLink="/movies" routerLinkActive="nav-list-link-active" (click)="resetSearchbar('/movies')">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">movie</mat-icon>
              <span>Movies</span>
            </span>
          </a>
          <a mat-list-item routerLink="/series" routerLinkActive="nav-list-link-active" (click)="resetSearchbar('/series')">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">tv</mat-icon>
              <span>Series</span>
            </span>
          </a>
          <a mat-list-item routerLink="/watchlist" routerLinkActive="nav-list-link-active" (click)="resetSearchbar('/watchlist')">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">schedule</mat-icon>
              <span>Watchlist</span>
            </span>
          </a>
          <a mat-list-item routerLink="/statistics" routerLinkActive="nav-list-link-active" (click)="resetSearchbar()">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">bar_chart</mat-icon>
              <span>Statistics</span>
            </span>
          </a>
        </mat-nav-list>
        <mat-nav-list class="settings-nav-list">
          <a mat-list-item routerLink="/settings" routerLinkActive="nav-list-link-active" (click)="resetSearchbar()">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">settings</mat-icon>
              <span>Settings</span>
            </span>
          </a>
          <a mat-list-item (click)="logOut()">
            <span class="nav-list-item">
              <mat-icon class="nav-list-icon">logout</mat-icon>
              <span>Log out</span>
            </span>
          </a>
        </mat-nav-list>
      </div>
    </mat-sidenav>
    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
<router-outlet *ngIf="hideNavbar"></router-outlet>
